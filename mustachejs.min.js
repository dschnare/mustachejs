/*
 Module: xport
 Author: Darren Schnare
 Keywords: javascript,export,modules
 License: MIT ( http://www.opensource.org/licenses/mit-license.php )
 Repo: https://github.com/dschnare/xport
*/
(function(i){function g(a,b,c){var a=a?a.toString():"",c=c||g.global||i,a=a.split("."),e=a.length,d=c,h,f;for(h=0;h<e-1;h+=1)f=a[h],void 0===d[f]&&(d[f]={}),d=d[f];f=a[e-1];d[f]=b;return c}var j=function(){var a=Object.prototype.toString;return function(b){return"[object Array]"===a.call(b)}}();g.global="object"===typeof window&&window?window:"object"===typeof global&&global?global:i;g.module=function(a,b,c){var e,d;j(a)||(c=b,b=a,a=[],"function"!==typeof b&&(b=function(a){return function(){return a}}(b)));
if("function"===typeof define&&"object"===typeof define.amd&&define.amd)0===a.length?define(b):define(a,b);else if("object"===typeof exports&&exports&&"function"===typeof require){if(0===a.length)a=b();else{c=[];for(e=a.length;0<e;)e-=1,c.unshift(require(a[e]));a=b.apply(void 0,c)}if("object"===typeof module&&module&&module.exports)module.exports=a;else if(a)for(d in a)void 0!==a[d]&&(exports[d]=a[d])}else"function"===typeof c&&c()};g("XPORT",g)})(this);
;


/*
 Module: mustachejs
 Author: Darren Schnare
 Keywords: javascript,mustache,template
 License: MIT ( http://www.opensource.org/licenses/mit-license.php )
 Repo: https://github.com/dschnare/mustachejs
*/
(function(v){var r={isArray:function(){var d={}.constructor.prototype.toString;return function(f){return"[object Array]"===d.call(f)}}(),htmlEscape:function(){var d={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&apos;"};return function(f){for(var g=f.length,e=null,e=null;g;)g-=1,e=f.charAt(g),(e=d[e])&&(f=f.substring(0,g)+e+f.substring(g+1));return f}}(),trim:function(d){for(var f=0,g=d.charAt(f);g;){if(" "<g){d=d.substring(f);break}f+=1;g=d.charAt(f)}for(f=d.length;f;)if(f-=1,g=d.charAt(f),
" "<g){d=d.substring(0,f+1);break}return d},indent:function(d,f){for(var g=d.length,e=null;g;)if(g-=1,e=d.charAt(g),("\n"===e||"\r"===e)&&"\n"!==d.charAt(g+1))d.charAt(g+1)&&(d=d.substring(0,g+1)+f+d.substring(g+1));return d?f+d:d}},u=function(){var d={"!":"comment","=":"set-delimiter","":"interpolation","&":"unescape-interpolation","~":"unescape-interpolation","{":"unescape-interpolation","#":"section-begin","^":"invert-section-begin","/":"section-end",">":"partial","@":"partial",".":"implicit"},
f=function(g){var e="function"===typeof g.pointer?function(a){return g.pointer(a)}:function(a){return{value:a,toString:function(){return this.value.toString()},valueOf:function(){return this.value}}},b=e(-1),i=null,m=1,c=function(a){0!==a&&(b.value+=a||1,i=g.charAt(+b));return i};return{position:function(a){a=+a;isFinite(a)&&(b.value=a);return+b},getTokens:function(a){var c=b.value,e=m,l,h=[];m=1;b.value=0;for(l=this.next(a);l;)h.push(l),l=this.next(a);m=e;b.value=c;return h},next:function(a){a||
(a=f.defaultDelimiter());var n="",q="",l=-1,h=null,o=null,j=a.left,k=j.length,a=a.right,p=a.length;0<b&&(b.value-=1);for(;c();)if("\n"===i?"\r"!==g.charAt(b-1)&&(m+=1):"\r"===i&&(m+=1),g.substr(+b,k)===j){l=+b;c(k);switch(i){case "=":case "!":case "&":case "~":case "{":case "#":case "^":case "/":case ">":case "@":q=i;break;case ".":q=n=i;break;default:n+=i}for(;c();)if(!("{"===q&&"}}"===a&&"}}}"===g.substr(+b,3)))if(g.substr(+b,p)===a){c(p);break}else n+=i;"="===q&&(n=n.substring(0,n.length-1));if("."===
q&&n!==q)n=q="";else if(h=d[q]){o={type:h,value:r.trim(n),text:g.substring(l,+b),start:e(l),end:e(+b),line:m};break}else n=q=""}else{for(l=+b;i&&g.substr(+b,k)!==j;)c();o={type:"text",value:g.substring(l,b),text:g.substring(l,b),start:e(l),end:e(+b),line:m};if(o.text)break;else o=null}return o}}};f.defaultDelimiter=function(){return{left:"{{",right:"}}"}};return f}(),y=function(d){var d=d+"",f=[],g=function(e){return{value:+e,toString:function(){return this.value.toString()},valueOf:function(){return this.value}}};
f.update=function(e,b,i){for(var d=this.length,c=null,i=i-(b-e);d;)d-=1,c=this[d],c>=b&&(c.value+=i)};return{length:d.length,charAt:function(e){return d.charAt(+e)},substr:function(e,b){return d.substr(+e,b)},substring:function(e,b){return d.substring(+e,+b)},replace:function(e){var b=e.substr?d.indexOf(e.substr):+e.begin,i=e.substr?b+e.substr.length:+e.end,e=void 0===e.repl?"":e.repl.toString();d=d.substring(0,b)+e+d.substring(i);f.update(b,i,e.length);this.length=d.length},pointer:function(e){e=
g(e);f.push(e);return e},clearPointers:function(){for(;f.length;)f.pop()},invalidatePointers:function(){for(;f.length;)f.pop().value=-1},indexOf:function(e,b){var i=g(d.indexOf(e,+b));0<=i&&f.push(i);return i},lastIndexOf:function(e,b){var i=g(d.lastIndexOf(e,+b));0<=i&&f.push(i);return i},toString:function(){return d},valueOf:function(){return d}}},s=function(d){var f=[{}],g=function(b,e){var d=function(){return arguments.length?b.apply(e,arguments):b.call(e)};d.valueOf=b.valueOf===d.valueOf?d.valueOf:
function(){return b.valueOf()};d.toString=b.toString===d.toString?d.toString:function(){return b.toString()};d.originalMethod=b;d.thisObj=e;return d},e={context:function(){return f[f.length-1]},stack:function(){return f},get:function(b){for(var e=f.length,d,c,a;e;)if(e-=1,d=f[e],c=d[b],void 0!==c){a="function"===typeof c?g(c,d):c;break}return a},push:function(b){f.push(b);return b},pop:function(){1!==f.length&&f.pop();return this.context()}};1===arguments.length&&e.push(d);return e},w=function(d){var f=
u(d),g=function(){var e=[];return{isOpen:function(){return 0!==e.length},open:function(b){e.push(b)},close:function(b){var d=e[e.length-1];if(this.isOpen()&&d.value===b.value)d.endToken=b,e.pop();else throw Error('Missing section-begin for : "'+b.text+'" on line '+b.line);},current:function(){return e[e.length-1]}}}();return{hasOpenSection:function(){return g.isOpen()},getOpenedSectionToken:function(){return g.current()},next:function(e){var b=f.next(e),d;if(b)switch(b.type){case "set-delimiter":if(b.value&&
0>b.value.indexOf("=")){d=b.value.split(" ");e=d[0];d=d[1];if(0<=e.indexOf(" ")||0<=d.indexOf(" "))throw Error('Unexpected whitespace in set-delimiter token : "'+b.text+'" on line '+b.line);b.left=e;b.right=d}else throw Error('Invalid set-delimiter token : "'+b.text+'" on line '+b.line);break;case "section-begin":case "invert-section-begin":g.open(b);for(d=f.next(e);d;){switch(d.type){case "section-begin":case "invert-section-begin":g.open(d);break;case "section-end":g.close(d)}if(b.endToken)break;
d=f.next(e)}break;case "section-end":g.close(b)}return b}}},t=function(){var d,f=function(c){return null===c||void 0===c?"":c.toString()},g={}.valueOf,e={interpolation:function(c){for(var a=c.name,n=c.contextStack,c=a.split("."),b=0,d=c.length,b=0;b<d-1;b+=1)a=c[b],a=n.get(a),void 0===a?b=d:(a&&"function"===typeof a.valueOf&&a.valueOf!==g?a=a.valueOf():"function"===typeof a&&(a=a()),n=s(a));a=c[d-1];a=n.get(a);void 0===a?a="":a&&"function"===typeof a.valueOf&&a.valueOf!==g?a=a.valueOf():"function"===
typeof a&&(a=a());return a},section:function(c){for(var a=c.name,b=c.sectionText,e=c.contextStack,l=c.delim,h=c.partials,f=e.context(),j=a.split("."),k=0,p=j.length,i=e,m=function(a,c){return d.interpret({template:a,data:c||f,delim:l,partials:h,contextStack:e})},b=b.toString(),k=0;k<p-1;k+=1)a=j[k],a=i.get(a),void 0===a?(a="",k=p):(a&&"function"===typeof a.valueOf&&a.valueOf!==g?a=a.valueOf():"function"===typeof a&&(a=1<=a.originalMethod.length?a(b,m):a()),i=s(a));a=j[p-1];a=i.get(a);void 0===a?a=
"":a&&"function"===typeof a.valueOf&&a.valueOf!==g?a=a.valueOf():"function"===typeof a&&(c.result&&(c.result.isLambda=!0),a=a(b,m));return a},inverseSection:function(c){for(var a=c.name,b=c.sectionText,e=c.contextStack,l=c.delim,h=c.partials,f=e.context(),c=a.split("."),j=0,k=c.length,p=e,i=function(a,c){return d.interpret({template:a,data:c||f,delim:l,partials:h,contextStack:e})},b=b.toString(),j=0;j<k-1;j+=1)a=c[j],a=p.get(a),void 0===a?(a="",j=k):(a&&"function"===typeof a.valueOf&&a.valueOf!==
g?a=a.valueOf():"function"===typeof a&&(a=1<=a.originalMethod.length?a(b,i):a()),p=s(a));a=c[k-1];a=p.get(a);void 0===a?a="":"function"===typeof a&&(a=!0);return a},partial:function(c){for(var a=c.name,b=c.partials,c=a.split("."),e=c.length,d=0,h,d=0;d<e;d+=1)a=c[d],h=b[a],void 0===h?(h="",d=e):(h&&"function"===typeof h.valueOf&&h.valueOf!==g?h=h.valueOf():"function"===typeof h&&(h=h()),b=h);return h}},b={trimStandaloneToken:function(c,a){for(var b=a.start-1,d=c.charAt(b),e=!0,h=0,f="";d;){if(" "<
d){e=!1;break}else if("\n"===d||"\r"===d)break;b-=1;d=c.charAt(b)}h=b+1;if(e){b=c.pointer(a.end);for(d=c.charAt(b);d;){if(" "<d){e=!1;break}else if("\n"===d||"\r"===d){"\r"===d&&"\n"===c.charAt(b+1)&&(b.value+=1);break}b.value+=1;d=c.charAt(b)}e&&(f=c.substring(h,a.start),c.replace({begin:h,end:a.start}),c.replace({begin:a.end,end:b+1}))}return f},replaceToken:function(c,a,b){b=void 0===b||null===b?"":b.toString();c.replace({begin:a.start.value,end:a.end.value,repl:b})},replaceStandaloneToken:function(c,
a,d){b.trimStandaloneToken(c,a);d=void 0===d||null===d?"":d.toString();c.replace({begin:a.start.value,end:a.end.value,repl:d})},renderSection:function(c){var a=c.template,b=c.data,e=c.delim,f=c.contextStack,c=c.partials,h=0,o=0,j="",k=null,p=!1;r.isArray(b)||(b=b?[b]:[]);o=b.length;for(h=0;h<o;h+=1)k=b[h],p=!1,f.push(k),k&&("function"===typeof k.valueOf&&k.valueOf!==g)&&(p=!0,k=k.valueOf(),f.push(k)),"function"===typeof k&&(p=!0,k=k(),f.push(k)),k=d.interpret({template:"="+a+"=",data:k,contextStack:f,
partials:c,delim:e}),j+=k.substring(1,k.length-1),f.pop(),p&&f.pop();return j}},i={implicit:function(c){var a=c.template,e=c.token,f=c.data,i=c.contextStack,h=c.partials,c=c.disableRecursion;f.valueOf!==g&&(f=f.valueOf());c?"function"===typeof f&&(f=f()):f=d.interpret({template:"function"===typeof f?f():f,data:i.context(),contextStack:i,partials:h});b.replaceToken(a,e,f)},setDelimiter:function(c){var a=c.template,d=c.token,c=c.delim;c.left=d.left;c.right=d.right;b.replaceStandaloneToken(a,d)},interpolation:function(c){var a=
c.template,g=c.token,i=c.contextStack,l=c.partials,c=c.disableRecursion,h=e.interpolation({name:g.value,contextStack:i,partials:l}),h=f(h);c||(h=d.interpret({template:h,data:i.context(),contextStack:i,partials:l}));h?(h=r.htmlEscape(h),b.replaceToken(a,g,h)):b.replaceToken(a,g)},unescapedInterpolation:function(c){var a=c.template,g=c.token,i=c.contextStack,l=c.partials,c=c.disableRecursion,h=e.interpolation({name:g.value,contextStack:i,partials:l}),h=f(h);c||(h=d.interpret({template:h,data:i.context(),
contextStack:i,partials:l}));h?b.replaceToken(a,g,h):b.replaceToken(a,g)},partial:function(c){var a=c.template,g=c.token,i=c.data,l=c.contextStack,c=c.partials,h="",o=b.trimStandaloneToken(a,g),j=e.partial({name:g.value,partials:c});if(j=f(j))o&&(j=r.indent(j,o)),h=d.interpret({template:j,data:i,contextStack:l,partials:c});b.replaceToken(a,g,h)},section:function(c){var a=c.template,f=c.token,g=c.contextStack,i=c.partials,c=c.delim,h=f.endToken,o=null,j=null,k={};b.trimStandaloneToken(a,h);b.trimStandaloneToken(a,
f);o=a.substring(f.start+f.text.length,h.end-h.text.length);j=e.section({name:f.value,sectionText:o,contextStack:g,delim:c,partials:i,result:k});k.isLambda&&"string"===typeof j?(j=d.interpret({template:j,data:g.context(),contextStack:g,delim:c,partials:i}),a.replace({begin:f.start,end:h.end,repl:j})):!j||r.isArray(j)&&!j.length?a.replace({begin:f.start,end:h.end}):a.replace({begin:f.start,end:h.end,repl:b.renderSection({template:o,data:j,contextStack:g,partials:i,delim:c})})},inverseSection:function(c){var a=
c.template,d=c.token,f=c.contextStack,g=c.partials,c=c.delim,h=d.endToken,i=null,j=null;b.trimStandaloneToken(a,h);b.trimStandaloneToken(a,d);i=a.substring(d.start+d.text.length,h.end-h.text.length);j=e.inverseSection({name:d.value,sectionText:i,delim:c,partials:g,contextStack:f});j=!j||r.isArray(j)&&!j.length?!0:!1;!j||r.isArray(j)&&!j.length?a.replace({begin:d.start,end:h.end}):a.replace({begin:d.start,end:h.end,repl:b.renderSection({template:i,data:j,contextStack:f,partials:g,delim:c})})}},m=function(){return{interpret:function(c,
a,b,e,f){return d.interpret({template:c,data:a,partials:b,delim:e,disableRecursion:f})}}};m.resolvers=e;d={interpret:function(c){var a=y(c.template?c.template.toString():""),d=c.partials||{},e=null===c.data||void 0===c.data?{}:c.data,f=w(a),h=c.delim||u.defaultDelimiter(),g=c.contextStack||s(),j=null,c={template:a,data:e,contextStack:g,partials:d,delim:h,disableRecursion:c.disableRecursion};g.push(e);for(j=f.next(h);j;){c.token=j;switch(j.type){case "implicit":i.implicit(c);break;case "comment":b.replaceStandaloneToken(a,
j);break;case "set-delimiter":i.setDelimiter(c);break;case "interpolation":i.interpolation(c);break;case "unescape-interpolation":i.unescapedInterpolation(c);break;case "partial":i.partial(c);break;case "section-begin":i.section(c);break;case "invert-section-begin":i.inverseSection(c);break;case "text":break;default:throw Error('Unexpected token: "'+j.text+'" on line '+j.line);}j=f.next(h)}if(f.hasOpenSection())throw j=f.getOpenedSectionToken(),Error('Missing section-end for : "'+j.text+'" on line '+
j.line);g.pop();return a.toString()}};return m}(),x={inspect:function(d,f,g,e){for(var b=[],i={}.valueOf,m=w(d),c=e||u.defaultDelimiter(),e=m.next(c),a=s(f),f=function(c){var b=a.context();return{name:function(){return"."},token:function(){return c},context:function(){return b},get:function(){return b&&b.valueOf!==i&&"function"===typeof b.valueOf?b.valueOf():b},rawget:function(){return b},set:function(a){"function"===typeof b&&b(a)}}},n=function(a){var c=a.value.split("."),b=c.pop(),d=g;c.length&&
(d=t.resolvers.partial({name:c.join("."),partials:g}));return{name:function(){return c.length?c.join(".")+"."+b:b},token:function(){return a},context:function(){return d},get:function(){var a=d[b];a&&(a.valueOf!==i&&"function"===typeof a.valueOf)&&(a=a.valueOf());return a},rawget:function(){if(d)return d[b]},set:function(a){if("function"===typeof d[b])d[b](a);else d[b]=a}}},q=function(c){var b=c.value.split("."),d=b.pop(),e=a.context();b.length&&(e=t.resolvers.interpolation({name:b.join("."),contextStack:a,
partials:g}));return{name:function(){return b.length?b.join(".")+"."+d:d},token:function(){return c},context:function(){return e},get:function(){var a;e&&(a=e[d]);return a&&a.valueOf!==i&&"function"===typeof a.valueOf?a.valueOf():a},rawget:function(){if(e)return e[d]},set:function(a){if(e)if("function"===typeof e[d])e[d](a);else e[d]=a}}},l=function(b,e){var f=b.value.split("."),k=f.pop(),l=a.context(),m=b.endToken,m=d.substring(b.start+b.text.length,m.end-m.text.length);f.length&&(l=e({name:f.join("."),
sectionText:m,delim:c,partials:g,contextStack:a}),b.value+="."+k);return{name:function(){return f.length?f.join(".")+"."+k:k},token:function(){return b},context:function(){return l},get:function(){var a;l&&(a=l[k]);return a&&a.valueOf!==i&&typeof a.valueOf==="function"?a.valueOf():a},rawget:function(){if(l)return l[k]},set:function(a){if(l)if(typeof a==="function")l[k](a);else l[k]=a}}};e;){switch(e.type){case "implicit":b.push(f(e));break;case "partial":b.push(n(e));break;case "interpolation":case "unescape-interpolation":b.push(q(e));
break;case "section-begin":b.push(l(e,t.resolvers.section));break;case "invert-section-begin":b.push(l(e,t.resolvers.inverseSection))}e=m.next(c)}return b},render:function(d,f,g,e,b){return t().interpret(d,f,g,e,b)}};v.module(x,function(){v("MUSTACHE",x)})})("function"===typeof XPORT?XPORT:null);
