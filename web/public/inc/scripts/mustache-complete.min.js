/*
 Module: xport
 Author: Darren Schnare
 Keywords: javascript,export
 License: MIT ( http://www.opensource.org/licenses/mit-license.php )
 Repo: https://github.com/dschnare/project-template
*/
(function(){function h(a,b,c){a=a?a.toString():"";c||(c="object"!==typeof window?{}:window);var a=a.split("."),e=a.length,d=c,g,f;for(g=0;g<e-1;g+=1)f=a[g],void 0===d[f]&&(d[f]={}),d=d[f];f=a[e-1];d[f]=b;return c}h("module",function(a,b,c){var e,d;"[object Array]"!=={}.constructor.prototype.toString.call(a)&&(c=b,b=a,a=[],"function"!==typeof b&&(b=function(a){return function(){return a}}(b)));if("function"===typeof define&&"object"===typeof define.a&&define.a)0===a.length?define(b):define(a,b);else if("object"===
typeof exports&&exports&&"function"===typeof require){if(0===a.length)a=b();else{c=[];for(e=a.length;0<e;)e-=1,c.unshift(require(a[e]));a=b.apply(void 0,c)}if(a)for(d in a)a.hasOwnProperty(d)&&(exports[d]=a[d])}else"function"===typeof c&&c()},h);h("xport",h)})();

/*
 Author: Darren Schnare
 Keywords: javascript,mustache,template
 License: MIT ( http://www.opensource.org/licenses/mit-license.php )
 Repo: https://github.com/dschnare/mustachejs
*/
var n=void 0,q=null;
(function(){function w(d){var g=x(d),f=function(){var c=[];return{s:function(){return 0!==c.length},open:function(f){c.push(f)},close:function(f){var a=c[c.length-1];if(this.s()&&a.value===f.value)a.n=f,c.pop();else throw Error('Missing section-begin for : "'+f.text+'" on line '+f.i);},w:function(){return c[c.length-1]}}}();return{A:function(){return f.s()},z:function(){return f.w()},next:function(c){var d=g.next(c),a;if(d)switch(d.type){case "set-delimiter":if(d.value&&0>d.value.indexOf("=")){a=d.value.split(" ");
c=a[0];a=a[1];if(0<=c.indexOf(" ")||0<=a.indexOf(" "))throw Error('Unexpected whitespace in set-delimiter token : "'+d.text+'" on line '+d.i);d.left=c;d.right=a}else throw Error('Invalid set-delimiter token : "'+d.text+'" on line '+d.i);break;case "section-begin":case "invert-section-begin":f.open(d);for(a=g.next(c);a;){switch(a.type){case "section-begin":case "invert-section-begin":f.open(a);break;case "section-end":f.close(a)}if(d.n)break;a=g.next(c)}break;case "section-end":f.close(d)}return d}}}
function s(d){function g(c,a){function e(){return arguments.length?c.apply(a,arguments):c.call(a)}e.valueOf=c.valueOf===e.valueOf?e.valueOf:function(){return c.valueOf()};e.toString=c.toString===e.toString?e.toString:function(){return c.toString()};e.t=c;e.M=a;return e}var f=[{}],c={g:function(){return f[f.length-1]},stack:function(){return f},get:function(c){for(var a=f.length,e,b,o;a;)if(a-=1,e=f[a],b=e[c],b!==n){o="function"===typeof b?g(b,e):b;break}return o},push:function(c){f.push(c);return c},
pop:function(){1!==f.length&&f.pop();return this.g()}};1===arguments.length&&c.push(d);return c}function y(d){function g(c){return{value:+c,toString:function(){return this.value.toString()},valueOf:function(){return this.value}}}var d=d+"",f=[];f.update=function(c,d,a){for(var e=this.length,b=q,a=a-(d-c);e;)e-=1,b=this[e],b>=d&&(b.value+=a)};return{length:d.length,charAt:function(c){return d.charAt(+c)},substr:function(c,f){return d.substr(+c,f)},substring:function(c,f){return d.substring(+c,+f)},
replace:function(c){var g=c.substr?d.indexOf(c.substr):+c.f,a=c.substr?g+c.substr.length:+c.end,c=c.j===n?"":c.j.toString();d=d.substring(0,g)+c+d.substring(a);f.update(g,a,c.length);this.length=d.length},p:function(c){c=g(c);f.push(c);return c},I:function(){for(;f.length;)f.pop()},L:function(){for(;f.length;)f.pop().value=-1},indexOf:function(c,m){var a=g(d.indexOf(c,+m));0<=a&&f.push(a);return a},lastIndexOf:function(c,m){var a=g(d.lastIndexOf(c,+m));0<=a&&f.push(a);return a},toString:function(){return d},
valueOf:function(){return d}}}var r={isArray:function(){var d={}.constructor.prototype.toString;return function(g){return"[object Array]"===d.call(g)}}(),B:function(){var d={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&apos;"};return function(g){for(var f=g.length,c=q,c=q;f;)f-=1,c=g.charAt(f),(c=d[c])&&(g=g.substring(0,f)+c+g.substring(f+1));return g}}(),trim:function(d){for(var g=0,f=d.charAt(g);f;){if(" "<f){d=d.substring(g);break}g+=1;f=d.charAt(g)}for(g=d.length;g;)if(g-=1,f=d.charAt(g),
" "<f){d=d.substring(0,g+1);break}return d},D:function(d,g){for(var f=d.length,c=q;f;)if(f-=1,c=d.charAt(f),("\n"===c||"\r"===c)&&"\n"!==d.charAt(f+1))d.charAt(f+1)&&(d=d.substring(0,f+1)+g+d.substring(f+1));return d?g+d:d}},x=function(){function d(d){function c(b){0!==b&&(a.value+=b||1,e=d.charAt(+a));return e}var m="function"===typeof d.p?function(a){return d.p(a)}:function(a){return{value:a,toString:function(){return this.value.toString()},valueOf:function(){return this.value}}},a=m(-1),e=q,b=
1;return{position:function(b){b=+b;isFinite(b)&&(a.value=b);return+a},K:function(e){var c=a.value,d=b,f,g=[];b=1;a.value=0;for(f=this.next(e);f;)g.push(f),f=this.next(e);b=d;a.value=c;return g},next:function(o){o||(o={left:"{{",right:"}}"});var l="",j="",h=-1,k=q,i=q,t=o.left,p=t.length,o=o.right,u=o.length;0<a&&(a.value-=1);for(;c();)if("\n"===e?"\r"!==d.charAt(a-1)&&(b+=1):"\r"===e&&(b+=1),d.substr(+a,p)===t){h=+a;c(p);switch(e){case "=":case "!":case "&":case "~":case "{":case "#":case "^":case "/":case ">":case "@":j=
e;break;case ".":j=l=e;break;default:l+=e}for(;c();)if(!("{"===j&&"}}"===o&&"}}}"===d.substr(+a,3)))if(d.substr(+a,u)===o){c(u);break}else l+=e;"="===j&&(l=l.substring(0,l.length-1));if("."===j&&l!==j)l=j="";else if(k=g[j]){i={type:k,value:r.trim(l),text:d.substring(h,+a),start:m(h),end:m(+a),i:b};break}else l=j=""}else{for(h=+a;e&&d.substr(+a,p)!==t;)c();i={type:"text",value:d.substring(h,a),text:d.substring(h,a),start:m(h),end:m(+a),i:b};if(i.text)break;else i=q}return i}}}var g={"!":"comment",
"=":"set-delimiter","":"interpolation","&":"unescape-interpolation","~":"unescape-interpolation","{":"unescape-interpolation","#":"section-begin","^":"invert-section-begin","/":"section-end",">":"partial","@":"partial",".":"implicit"};d.J=function(){return{left:"{{",right:"}}"}};return d}(),z=function(){var d,g={}.valueOf,f={m:function(a){for(var e=a.name,b=e.split("."),c=0,d=b.length,a=a.a,c=0;c<d-1;c+=1)e=b[c],e=a.get(e),e===n?c=d:(e&&"function"===typeof e.valueOf&&e.valueOf!==g?e=e.valueOf():"function"===
typeof e&&(e=e()),a=s(e));e=b[d-1];e=a.get(e);e===n?e="":e&&"function"===typeof e.valueOf&&e.valueOf!==g?e=e.valueOf():"function"===typeof e&&(e=e());return e},q:function(a){function e(a,b){return d.e({c:a,data:b||k,d:j,b:h,a:f})}for(var b=a.name,c=a.r,f=a.a,j=a.d,h=a.b,k=f.g(),a=b.split("."),i=0,m=a.length,p=f,c=c.toString(),i=0;i<m-1;i+=1)b=a[i],b=p.get(b),b===n?(b="",i=m):(b&&"function"===typeof b.valueOf&&b.valueOf!==g?b=b.valueOf():"function"===typeof b&&(b=1<=b.t.length?b(c,e):b()),p=s(b));
b=a[m-1];b=p.get(b);b===n?b="":b&&"function"===typeof b.valueOf&&b.valueOf!==g?b=b.valueOf():"function"===typeof b&&(b=b(c,e));return b},o:function(a){function e(a,b){return d.e({c:a,data:b||k,d:j,b:h,a:f})}for(var b=a.name,c=a.r,f=a.a,j=a.d,h=a.b,k=f.g(),a=b.split("."),i=0,m=a.length,p=f,c=c.toString(),i=0;i<m-1;i+=1)b=a[i],b=p.get(b),b===n?(b="",i=m):(b&&"function"===typeof b.valueOf&&b.valueOf!==g?b=b.valueOf():"function"===typeof b&&(b=1<=b.t.length?b(c,e):b()),p=s(b));b=a[m-1];b=p.get(b);b===
n?b="":"function"===typeof b&&(b=!0);return b}},c={l:function(a,e){for(var b=e.start-1,c=a.charAt(b),d=!0,f=0,g="";c;){if(" "<c){d=!1;break}else if("\n"===c||"\r"===c)break;b-=1;c=a.charAt(b)}f=b+1;if(d){b=a.p(e.end);for(c=a.charAt(b);c;){if(" "<c){d=!1;break}else if("\n"===c||"\r"===c){"\r"===c&&"\n"===a.charAt(b+1)&&(b.value+=1);break}b.value+=1;c=a.charAt(b)}d&&(g=a.substring(f,e.start),a.replace({f:f,end:e.start}),a.replace({f:e.end,end:b+1}))}return g},k:function(a,c,b){a.replace({f:c.start.value,
end:c.end.value,j:b||""})},v:function(a,e,b){c.l(a,e);a.replace({f:e.start.value,end:e.end.value,j:b||""})},u:function(a){var c=a.c,b=a.data,f=a.d,l=a.a,a=a.b,j=0,h=0,k="",i=q,m=!1;r.isArray(b)||(b=b?[b]:[]);h=b.length;for(j=0;j<h;j+=1)i=b[j],m=!1,l.push(i),i&&"function"===typeof i.valueOf&&i.valueOf!==g&&(m=!0,i=i.valueOf(),l.push(i)),"function"===typeof i&&(m=!0,i=i(),l.push(i)),i=d.e({c:"="+c+"=",data:i,a:l,b:a,d:f}),k+=i.substring(1,i.length-1),l.pop(),m&&l.pop();return k}},m={C:function(a){var e=
a.c,b=a.h,f=a.data,g=a.a,a=a.b,f=d.e({c:"function"===typeof f?f():f,data:g.g(),a:g,b:a});c.k(e,b,f)},G:function(a){var e=a.c,b=a.h,a=a.d;a.left=b.left;a.right=b.right;c.v(e,b)},m:function(a){var e=a.c,b=a.h,g=a.a,a=a.b,l=f.m({name:b.value,a:g,b:a});(l=d.e({c:l,data:g.g(),a:g,b:a}))?(l=r.B(l.toString()),c.k(e,b,l)):c.k(e,b)},H:function(a){var e=a.c,b=a.h,g=a.a,a=a.b,l=f.m({name:b.value,a:g,b:a});(l=d.e({c:l,data:g.g(),a:g,b:a}))?c.k(e,b,l+""):c.k(e,b)},F:function(a){var e=a.c,b=a.h,f=a.data,g=a.a,
a=a.b,j="",h=c.l(e,b),k=a[b.value];k&&(h&&(k=r.D(k,h)),j=d.e({c:k,data:f,a:g,b:a}));c.k(e,b,j)},q:function(a){var e=a.c,b=a.h,g=a.a,l=a.b,a=a.d,j=b.n,h=q,k=q;c.l(e,j);c.l(e,b);h=e.substring(b.start+b.text.length,j.end-j.text.length);k=f.q({name:b.value,r:h,a:g,d:a,b:l});"string"===typeof k?(k=d.e({c:k,data:g.g(),a:g,d:a,b:l}),e.replace({f:b.start,end:j.end,j:k})):!k||r.isArray(k)&&!k.length?e.replace({f:b.start,end:j.end}):e.replace({f:b.start,end:j.end,j:c.u({c:h,data:k,a:g,b:l,d:a})})},o:function(a){var e=
a.c,b=a.h,d=a.a,g=a.b,a=a.d,j=b.n,h=q,k=q;c.l(e,j);c.l(e,b);h=e.substring(b.start+b.text.length,j.end-j.text.length);k=f.o({name:b.value,r:h,d:a,b:g,a:d});k=!k||r.isArray(k)&&!k.length?!0:!1;!k||r.isArray(k)&&!k.length?e.replace({f:b.start,end:j.end}):e.replace({f:b.start,end:j.end,j:c.u({c:h,data:k,a:d,b:g,d:a})})}};d={e:function(a){var e=y(a.c?a.c.toString():""),b=a.b||{},d=a.data||{},f=w(e),g=a.d||{left:"{{",right:"}}"},a=a.a||s(),h=q,b={c:e,data:d,a:a,b:b,d:g};a.push(d);for(h=f.next(g);h;){b.h=
h;switch(h.type){case "implicit":m.C(b);break;case "comment":c.v(e,h);break;case "set-delimiter":m.G(b);break;case "interpolation":m.m(b);break;case "unescape-interpolation":m.H(b);break;case "partial":m.F(b);break;case "section-begin":m.q(b);break;case "invert-section-begin":m.o(b);break;case "text":break;default:throw Error('Unexpected token: "'+h.text+'" on line '+h.i);}h=f.next(g)}if(f.A())throw h=f.z(),Error('Missing section-end for : "'+h.text+'" on line '+h.i);a.pop();return e.toString()}};
return function(){return{e:function(a,c,b){return d.e({c:a,data:c,b:b})}}}}(),v={render:function(d,g,f){return z().e(d,g,f)}};xport.module(v,function(){xport("MUSTACHE",v)})})();
